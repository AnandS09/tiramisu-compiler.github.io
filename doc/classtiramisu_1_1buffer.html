<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Tiramisu Compiler: tiramisu::buffer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="tiramisu_logo_transparent.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Tiramisu Compiler
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classtiramisu_1_1buffer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classtiramisu_1_1buffer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tiramisu::buffer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class that represents buffers.  
 <a href="classtiramisu_1_1buffer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="core_8h_source.html">core.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a496861583d4f43e8dccf0dc1ffaf4238"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#a496861583d4f43e8dccf0dc1ffaf4238">buffer</a> (std::string name, std::vector&lt; <a class="el" href="classtiramisu_1_1expr.html">tiramisu::expr</a> &gt; dim_sizes, <a class="el" href="namespacetiramisu.html#adacb3196c1c6ddd14350580e70717354">tiramisu::primitive_t</a> type, <a class="el" href="namespacetiramisu.html#a0d83bca9b0437bcf906c15e170443aed">tiramisu::argument_t</a> argt, <a class="el" href="classtiramisu_1_1function.html">tiramisu::function</a> *fct)</td></tr>
<tr class="memdesc:a496861583d4f43e8dccf0dc1ffaf4238"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a tiramisu buffer.  <a href="#a496861583d4f43e8dccf0dc1ffaf4238">More...</a><br /></td></tr>
<tr class="separator:a496861583d4f43e8dccf0dc1ffaf4238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64118f1ea5f944543099b506ddd9af96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#a64118f1ea5f944543099b506ddd9af96">dump</a> (bool exhaustive) const </td></tr>
<tr class="memdesc:a64118f1ea5f944543099b506ddd9af96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump the function on standard output.  <a href="#a64118f1ea5f944543099b506ddd9af96">More...</a><br /></td></tr>
<tr class="separator:a64118f1ea5f944543099b506ddd9af96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70d2015c364ea44c61c575d206e44317"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacetiramisu.html#a0d83bca9b0437bcf906c15e170443aed">tiramisu::argument_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#a70d2015c364ea44c61c575d206e44317">get_argument_type</a> () const </td></tr>
<tr class="memdesc:a70d2015c364ea44c61c575d206e44317"><td class="mdescLeft">&#160;</td><td class="mdescRight">If this buffer is an argument to a <a class="el" href="classtiramisu_1_1function.html" title="A class to represent functions in Tiramisu. ">tiramisu::function</a>, return the type of the argument.  <a href="#a70d2015c364ea44c61c575d206e44317">More...</a><br /></td></tr>
<tr class="separator:a70d2015c364ea44c61c575d206e44317"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11c6f20c681fa79b937e1d7f5ede88dc"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#a11c6f20c681fa79b937e1d7f5ede88dc">get_name</a> () const </td></tr>
<tr class="memdesc:a11c6f20c681fa79b937e1d7f5ede88dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the name of the buffer.  <a href="#a11c6f20c681fa79b937e1d7f5ede88dc">More...</a><br /></td></tr>
<tr class="separator:a11c6f20c681fa79b937e1d7f5ede88dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d04bde8131f7109dd39cf338a8de866"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#a5d04bde8131f7109dd39cf338a8de866">get_n_dims</a> () const </td></tr>
<tr class="memdesc:a5d04bde8131f7109dd39cf338a8de866"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of dimensions of the buffer.  <a href="#a5d04bde8131f7109dd39cf338a8de866">More...</a><br /></td></tr>
<tr class="separator:a5d04bde8131f7109dd39cf338a8de866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04f8fb621f5cc48a7a896d2e23ebdde1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacetiramisu.html#adacb3196c1c6ddd14350580e70717354">tiramisu::primitive_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#a04f8fb621f5cc48a7a896d2e23ebdde1">get_elements_type</a> () const </td></tr>
<tr class="memdesc:a04f8fb621f5cc48a7a896d2e23ebdde1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the type of the elements of the buffer.  <a href="#a04f8fb621f5cc48a7a896d2e23ebdde1">More...</a><br /></td></tr>
<tr class="separator:a04f8fb621f5cc48a7a896d2e23ebdde1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b8427be81a1483e1ffeb11d326900b2"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="classtiramisu_1_1expr.html">tiramisu::expr</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#a6b8427be81a1483e1ffeb11d326900b2">get_dim_sizes</a> () const </td></tr>
<tr class="memdesc:a6b8427be81a1483e1ffeb11d326900b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the sizes of the dimensions of the buffer.  <a href="#a6b8427be81a1483e1ffeb11d326900b2">More...</a><br /></td></tr>
<tr class="separator:a6b8427be81a1483e1ffeb11d326900b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2271a2669a9ec9dac4a8fd9a0118caf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#ab2271a2669a9ec9dac4a8fd9a0118caf">set_auto_allocate</a> (bool auto_allocation)</td></tr>
<tr class="memdesc:ab2271a2669a9ec9dac4a8fd9a0118caf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set whether the buffer should be allocated automatically.  <a href="#ab2271a2669a9ec9dac4a8fd9a0118caf">More...</a><br /></td></tr>
<tr class="separator:ab2271a2669a9ec9dac4a8fd9a0118caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f234aa9aaf12c0ceef9a32b7f1c27d8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#a8f234aa9aaf12c0ceef9a32b7f1c27d8">has_constant_extents</a> ()</td></tr>
<tr class="memdesc:a8f234aa9aaf12c0ceef9a32b7f1c27d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if all extents of the buffer are literal integer contants (e.g., 4, 10, 100, ...).  <a href="#a8f234aa9aaf12c0ceef9a32b7f1c27d8">More...</a><br /></td></tr>
<tr class="separator:a8f234aa9aaf12c0ceef9a32b7f1c27d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad008c71d9181d459f278ee6713e52d24"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#ad008c71d9181d459f278ee6713e52d24">is_allocated</a> () const </td></tr>
<tr class="memdesc:ad008c71d9181d459f278ee6713e52d24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if a statement that allocates the buffer was already generated.  <a href="#ad008c71d9181d459f278ee6713e52d24">More...</a><br /></td></tr>
<tr class="separator:ad008c71d9181d459f278ee6713e52d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cb0cd787bb97f495be0cdd12ccadb47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#a0cb0cd787bb97f495be0cdd12ccadb47">mark_as_allocated</a> ()</td></tr>
<tr class="memdesc:a0cb0cd787bb97f495be0cdd12ccadb47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark an array as already allocated.  <a href="#a0cb0cd787bb97f495be0cdd12ccadb47">More...</a><br /></td></tr>
<tr class="separator:a0cb0cd787bb97f495be0cdd12ccadb47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4328725bffeff1bfd7dd9cdf1cbc7aa1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#a4328725bffeff1bfd7dd9cdf1cbc7aa1">tag_gpu_global</a> ()</td></tr>
<tr class="separator:a4328725bffeff1bfd7dd9cdf1cbc7aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa33da86f69fea804a034e41569abaab7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#aa33da86f69fea804a034e41569abaab7">tag_gpu_register</a> ()</td></tr>
<tr class="memdesc:aa33da86f69fea804a034e41569abaab7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tag the buffer as located in the GPU register memory.  <a href="#aa33da86f69fea804a034e41569abaab7">More...</a><br /></td></tr>
<tr class="separator:aa33da86f69fea804a034e41569abaab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b074203ed1548b5038075123f1f20fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#a0b074203ed1548b5038075123f1f20fa">tag_gpu_shared</a> ()</td></tr>
<tr class="separator:a0b074203ed1548b5038075123f1f20fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af602edc2fef9d8d09002cda1b82ab4fc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#af602edc2fef9d8d09002cda1b82ab4fc">tag_gpu_constant</a> ()</td></tr>
<tr class="separator:af602edc2fef9d8d09002cda1b82ab4fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a7158f8659b2913fd3036e51ad615c801"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtiramisu_1_1computation.html">tiramisu::computation</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#a7158f8659b2913fd3036e51ad615c801">allocate_at</a> (<a class="el" href="classtiramisu_1_1computation.html">tiramisu::computation</a> &amp;C, <a class="el" href="classtiramisu_1_1var.html">tiramisu::var</a> level)</td></tr>
<tr class="memdesc:a7158f8659b2913fd3036e51ad615c801"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate when to allocate the buffer (i.e., the schedule).  <a href="#a7158f8659b2913fd3036e51ad615c801">More...</a><br /></td></tr>
<tr class="separator:a7158f8659b2913fd3036e51ad615c801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36e578830ba0b76f281587faeffdf97c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtiramisu_1_1computation.html">tiramisu::computation</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#a36e578830ba0b76f281587faeffdf97c">allocate_at</a> (<a class="el" href="classtiramisu_1_1computation.html">tiramisu::computation</a> &amp;C, int level)</td></tr>
<tr class="memdesc:a36e578830ba0b76f281587faeffdf97c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate when to allocate the buffer (i.e., the schedule).  <a href="#a36e578830ba0b76f281587faeffdf97c">More...</a><br /></td></tr>
<tr class="separator:a36e578830ba0b76f281587faeffdf97c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:abbb1dbe6a4789375ca07187ea35e2569"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#abbb1dbe6a4789375ca07187ea35e2569">set_argument_type</a> (<a class="el" href="namespacetiramisu.html#a0d83bca9b0437bcf906c15e170443aed">tiramisu::argument_t</a> type)</td></tr>
<tr class="memdesc:abbb1dbe6a4789375ca07187ea35e2569"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the type of the argument.  <a href="#abbb1dbe6a4789375ca07187ea35e2569">More...</a><br /></td></tr>
<tr class="separator:abbb1dbe6a4789375ca07187ea35e2569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a139b8ea3bb6db5e5c6aad5f580e39b81"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#a139b8ea3bb6db5e5c6aad5f580e39b81">get_auto_allocate</a> ()</td></tr>
<tr class="memdesc:a139b8ea3bb6db5e5c6aad5f580e39b81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return whether the buffer should be allocated automatically.  <a href="#a139b8ea3bb6db5e5c6aad5f580e39b81">More...</a><br /></td></tr>
<tr class="separator:a139b8ea3bb6db5e5c6aad5f580e39b81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a749c7b699af74322280515ab6b0f0d91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtiramisu_1_1buffer.html#a749c7b699af74322280515ab6b0f0d91">set_dim_size</a> (int dim, int size)</td></tr>
<tr class="memdesc:a749c7b699af74322280515ab6b0f0d91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the size of a dimension of the buffer.  <a href="#a749c7b699af74322280515ab6b0f0d91">More...</a><br /></td></tr>
<tr class="separator:a749c7b699af74322280515ab6b0f0d91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class that represents buffers. </p>
<p>Buffers have two use cases:</p><ul>
<li>used to store the results of computations, and</li>
<li>used to represent input arguments to functions. </li>
</ul>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="tutorials_2tutorial_01_8cpp-example.html#_a7">tutorials/tutorial_01.cpp</a>, <a class="el" href="tutorials_2tutorial_02_8cpp-example.html#_a11">tutorials/tutorial_02.cpp</a>, <a class="el" href="tutorials_2tutorial_03_8cpp-example.html#_a13">tutorials/tutorial_03.cpp</a>, <a class="el" href="tutorials_2tutorial_04_8cpp-example.html#_a10">tutorials/tutorial_04.cpp</a>, <a class="el" href="tutorials_2tutorial_05_8cpp-example.html#_a8">tutorials/tutorial_05.cpp</a>, and <a class="el" href="tutorials_2tutorial_06_8cpp-example.html#_a13">tutorials/tutorial_06.cpp</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="core_8h_source.html#l00971">971</a> of file <a class="el" href="core_8h_source.html">core.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a496861583d4f43e8dccf0dc1ffaf4238"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tiramisu::buffer::buffer </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classtiramisu_1_1expr.html">tiramisu::expr</a> &gt;&#160;</td>
          <td class="paramname"><em>dim_sizes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacetiramisu.html#adacb3196c1c6ddd14350580e70717354">tiramisu::primitive_t</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacetiramisu.html#a0d83bca9b0437bcf906c15e170443aed">tiramisu::argument_t</a>&#160;</td>
          <td class="paramname"><em>argt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtiramisu_1_1function.html">tiramisu::function</a> *&#160;</td>
          <td class="paramname"><em>fct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a tiramisu buffer. </p>
<p>Buffers have two use cases:</p><ul>
<li>used to store the results of computations, and</li>
<li>used to represent input arguments to functions.</li>
</ul>
<p><code>name</code> is the name of the buffer.</p>
<p><code>dim_sizes</code> is a vector of tiramisu expressions that represent the size of each dimension in the buffer. Assuming we want to declare the buffer buf[N0][N1][N2], then the vector of sizes should be {N0, N1, N2}. Buffer dimensions in Tiramisu have the same semantics as in C/C++.</p>
<p><code>type</code> is the type of the elements of the buffer. It must be a primitive type (i.e. p_uint8, p_uint16, ...). Possible types are declared in <a class="el" href="namespacetiramisu.html#adacb3196c1c6ddd14350580e70717354" title="tiramisu data types. ">tiramisu::primitive_t</a> (<a class="el" href="type_8h.html">type.h</a>).</p>
<p><code>fct</code> is a pointer to a Tiramisu function where the buffer is declared or used.</p>
<p><code>is_argument</code> indicates whether the buffer is passed to the function as an argument. All the buffers passed as arguments to the function should be allocated by the user outside the function. Buffers that are not passed to the function as arguments are allocated automatically at the beginning of the function and deallocated at the end of the function. They are called temporary buffers (of type a_temporary). Temporary buffers cannot be used outside the function in which they were allocated.</p>
<p>Buffer names should not start with _ (an underscore). Names starting with _ are reserved names. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7158f8659b2913fd3036e51ad615c801"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtiramisu_1_1computation.html">tiramisu::computation</a>* tiramisu::buffer::allocate_at </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtiramisu_1_1computation.html">tiramisu::computation</a> &amp;&#160;</td>
          <td class="paramname"><em>C</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classtiramisu_1_1var.html">tiramisu::var</a>&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate when to allocate the buffer (i.e., the schedule). </p>
<p>The buffer is allocated in the same loop of the computation <code>C</code> at the loop level <code>level</code> (but the order between the two is not specified).</p>
<p>For example, let's assume that buf0 is a buffer, and let's assume that we have three computations C1, C2 and C3 scheduled as follow</p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> (i=0; i&lt;N; i++)</div><div class="line">     <span class="keywordflow">for</span> (j=0; j&lt;N; j++)</div><div class="line">          <span class="keywordflow">for</span> (k=0; k&lt;N; k++)</div><div class="line">             C1;</div><div class="line"></div><div class="line"><span class="keywordflow">for</span> (i=0; i&lt;N; i++) <span class="comment">// level 0</span></div><div class="line">     <span class="keywordflow">for</span> (j=0; j&lt;N; j++) <span class="comment">// level 1</span></div><div class="line">          <span class="keywordflow">for</span> (k=0; k&lt;N; k++) <span class="comment">// level 2</span></div><div class="line">          {</div><div class="line">             C2;</div><div class="line">             C3;</div><div class="line">          }</div></div><!-- fragment --><p>The following Tiramisu code</p>
<div class="fragment"><div class="line"><a class="code" href="classtiramisu_1_1computation.html">tiramisu::computation</a> *C4 = buf0.allocate_at(C2, j);</div><div class="line">C4-&gt;before(C2, j);</div></div><!-- fragment --><p>would allocate buf0 in the loop surrounding C2 at the loop level 0. The allocation computation is called C4, where C4 is scheduled to execute before C2 at the loop level 1. The generated code would look like the following code:</p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> (i=0; i&lt;N; i++)</div><div class="line">     <span class="keywordflow">for</span> (j=0; j&lt;N; j++)</div><div class="line">          <span class="keywordflow">for</span> (k=0; k&lt;N; k++)</div><div class="line">             C1;</div><div class="line"></div><div class="line"><span class="keywordflow">for</span> (i=0; i&lt;N; i++) <span class="comment">// level 0</span></div><div class="line">     <span class="keywordflow">for</span> (j=0; j&lt;N; j++) <span class="comment">// level 1</span></div><div class="line">     {</div><div class="line">          <a class="code" href="namespacetiramisu.html#aa89be56f203bbdf5354d5d92a249c7bb">allocate</a>(buf0, buffer_size, buffer_type);</div><div class="line">          <span class="keywordflow">for</span> (k=0; k&lt;N; k++) <span class="comment">// level 2</span></div><div class="line">          {</div><div class="line">             C2;</div><div class="line">             C3;</div><div class="line">          }</div><div class="line">     }</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a36e578830ba0b76f281587faeffdf97c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtiramisu_1_1computation.html">tiramisu::computation</a>* tiramisu::buffer::allocate_at </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classtiramisu_1_1computation.html">tiramisu::computation</a> &amp;&#160;</td>
          <td class="paramname"><em>C</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicate when to allocate the buffer (i.e., the schedule). </p>
<p>The buffer is allocated in the same loop of the computation <code>C</code> at the loop level <code>level</code> (but the order between the two is not specified).</p>
<p>For example, let's assume that buf0 is a buffer, and let's assume that we have three computations C1, C2 and C3 scheduled as follow</p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> (i=0; i&lt;N; i++)</div><div class="line">     <span class="keywordflow">for</span> (j=0; j&lt;N; j++)</div><div class="line">          <span class="keywordflow">for</span> (k=0; k&lt;N; k++)</div><div class="line">             C1;</div><div class="line"></div><div class="line"><span class="keywordflow">for</span> (i=0; i&lt;N; i++) <span class="comment">// level 0</span></div><div class="line">     <span class="keywordflow">for</span> (j=0; j&lt;N; j++) <span class="comment">// level 1</span></div><div class="line">          <span class="keywordflow">for</span> (k=0; k&lt;N; k++) <span class="comment">// level 2</span></div><div class="line">          {</div><div class="line">             C2;</div><div class="line">             C3;</div><div class="line">          }</div></div><!-- fragment --><p>The following Tiramisu code</p>
<div class="fragment"><div class="line"><a class="code" href="classtiramisu_1_1computation.html">tiramisu::computation</a> *C4 = buf0.allocate_at(C2, j);</div><div class="line">C4-&gt;before(C2, j);</div></div><!-- fragment --><p>would allocate buf0 in the loop surrounding C2 at the loop level 0. The allocation computation is called C4, where C4 is scheduled to execute before C2 at the loop level 1. The generated code would look like the following code:</p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> (i=0; i&lt;N; i++)</div><div class="line">     <span class="keywordflow">for</span> (j=0; j&lt;N; j++)</div><div class="line">          <span class="keywordflow">for</span> (k=0; k&lt;N; k++)</div><div class="line">             C1;</div><div class="line"></div><div class="line"><span class="keywordflow">for</span> (i=0; i&lt;N; i++) <span class="comment">// level 0</span></div><div class="line">     <span class="keywordflow">for</span> (j=0; j&lt;N; j++) <span class="comment">// level 1</span></div><div class="line">     {</div><div class="line">          <a class="code" href="namespacetiramisu.html#aa89be56f203bbdf5354d5d92a249c7bb">allocate</a>(buf0, buffer_size, buffer_type);</div><div class="line">          <span class="keywordflow">for</span> (k=0; k&lt;N; k++) <span class="comment">// level 2</span></div><div class="line">          {</div><div class="line">             C2;</div><div class="line">             C3;</div><div class="line">          }</div><div class="line">     }</div></div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a64118f1ea5f944543099b506ddd9af96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tiramisu::buffer::dump </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>exhaustive</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dump the function on standard output. </p>
<p>This functions dumps most of the fields of the buffer class but not all of them. It is mainly useful for debugging. If <code>exhaustive</code> is set to true, all the fields of the buffer class are printed. </p>

</div>
</div>
<a class="anchor" id="a70d2015c364ea44c61c575d206e44317"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacetiramisu.html#a0d83bca9b0437bcf906c15e170443aed">tiramisu::argument_t</a> tiramisu::buffer::get_argument_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If this buffer is an argument to a <a class="el" href="classtiramisu_1_1function.html" title="A class to represent functions in Tiramisu. ">tiramisu::function</a>, return the type of the argument. </p>
<p>Three possible types exist:</p><ul>
<li><a class="el" href="namespacetiramisu.html#a0d83bca9b0437bcf906c15e170443aedad9a453f38a770fa0ba3cf67a8315b691">tiramisu::a_input</a>: for inputs of the function,</li>
<li><a class="el" href="namespacetiramisu.html#a0d83bca9b0437bcf906c15e170443aedac18b5f3706585499f798412719deed11">tiramisu::a_output</a>: for outputs of the function,</li>
<li><a class="el" href="namespacetiramisu.html#a0d83bca9b0437bcf906c15e170443aeda241ff08aa2bef135ac9f6691651244f5">tiramisu::a_temporary</a>: for buffers used as temporary buffers within the function (any temporary buffer is allocated automatically by the Tiramisu runtime at the entry of the function and is deallocated at the exit of the function). </li>
</ul>

</div>
</div>
<a class="anchor" id="a139b8ea3bb6db5e5c6aad5f580e39b81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tiramisu::buffer::get_auto_allocate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return whether the buffer should be allocated automatically. </p>

</div>
</div>
<a class="anchor" id="a6b8427be81a1483e1ffeb11d326900b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;<a class="el" href="classtiramisu_1_1expr.html">tiramisu::expr</a>&gt;&amp; tiramisu::buffer::get_dim_sizes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the sizes of the dimensions of the buffer. </p>

</div>
</div>
<a class="anchor" id="a04f8fb621f5cc48a7a896d2e23ebdde1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacetiramisu.html#adacb3196c1c6ddd14350580e70717354">tiramisu::primitive_t</a> tiramisu::buffer::get_elements_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the type of the elements of the buffer. </p>

</div>
</div>
<a class="anchor" id="a5d04bde8131f7109dd39cf338a8de866"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tiramisu::buffer::get_n_dims </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the number of dimensions of the buffer. </p>

</div>
</div>
<a class="anchor" id="a11c6f20c681fa79b937e1d7f5ede88dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; tiramisu::buffer::get_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the name of the buffer. </p>

</div>
</div>
<a class="anchor" id="a8f234aa9aaf12c0ceef9a32b7f1c27d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tiramisu::buffer::has_constant_extents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return true if all extents of the buffer are literal integer contants (e.g., 4, 10, 100, ...). </p>

</div>
</div>
<a class="anchor" id="ad008c71d9181d459f278ee6713e52d24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const bool tiramisu::buffer::is_allocated </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return true if a statement that allocates the buffer was already generated. </p>

</div>
</div>
<a class="anchor" id="a0cb0cd787bb97f495be0cdd12ccadb47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tiramisu::buffer::mark_as_allocated </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mark an array as already allocated. </p>

</div>
</div>
<a class="anchor" id="abbb1dbe6a4789375ca07187ea35e2569"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tiramisu::buffer::set_argument_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacetiramisu.html#a0d83bca9b0437bcf906c15e170443aed">tiramisu::argument_t</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the type of the argument. </p>
<p>Three possible types exist:</p><ul>
<li>a_input: for inputs of the function,</li>
<li>a_output: for outputs of the function,</li>
<li>a_temporary: for buffers used as temporary buffers within the function (any temporary buffer is allocated automatically by the Tiramisu runtime at the entry of the function and is deallocated at the exit of the function). </li>
</ul>

</div>
</div>
<a class="anchor" id="ab2271a2669a9ec9dac4a8fd9a0118caf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tiramisu::buffer::set_auto_allocate </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>auto_allocation</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set whether the buffer should be allocated automatically. </p>

</div>
</div>
<a class="anchor" id="a749c7b699af74322280515ab6b0f0d91"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tiramisu::buffer::set_dim_size </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the size of a dimension of the buffer. </p>

</div>
</div>
<a class="anchor" id="af602edc2fef9d8d09002cda1b82ab4fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tiramisu::buffer::tag_gpu_constant </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4328725bffeff1bfd7dd9cdf1cbc7aa1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tiramisu::buffer::tag_gpu_global </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa33da86f69fea804a034e41569abaab7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tiramisu::buffer::tag_gpu_register </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tag the buffer as located in the GPU register memory. </p>
<p>The buffer needs to have a unique dimension of size 1 (i.e. needs to be a scalar). </p>

</div>
</div>
<a class="anchor" id="a0b074203ed1548b5038075123f1f20fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tiramisu::buffer::tag_gpu_shared </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="core_8h_source.html">core.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacetiramisu.html">tiramisu</a></li><li class="navelem"><a class="el" href="classtiramisu_1_1buffer.html">buffer</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
